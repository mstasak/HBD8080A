100 REM BLANK SCREEN
110 P=18
120 OUT P,27; OUT P,46; OUT P,1; OUT P,0
130 GOTO 300

200 REM FILL A RECTANGLE, PIXEL BY PIXEL, USING A COLOR WHICH VARIES WITH X AND Y COORDINATES
210 FOR X=1 TO 1024
220   FOR Y=1 TO 768
230     C = (X + Y) - (X + Y) / 216 * 216
240     GOSUB 1000
250   NEXT Y
260 NEXT X
270 STOP

300 REM DRAW 100 RANDOM LINES
310 FOR J=1 TO 100
320   X=RND(1024)-1
330   Y=RND(768)-1
340   V=RND(1024)-1
350   W=RND(768)-1
360   GOSUB 2000
370 NEXT J

1000 REM SET A SINGLE PIXEL AT (X, Y) TO COLOR C
1010   OUT P,27; OUT P,46; OUT P,10; OUT P,5
1020   OUT P,X; OUT P,X/256; OUT P,Y; OUT P,Y/256; OUT P,C
1030 RETURN

2000 REM DRAW A LINE FROM (X,Y) TO (V, W)
2001 REM USES CURRENT PEN (DEFAULT 1 PIXEL WIDTH, WHITE)
2010   OUT P,27; OUT P,46; OUT P,20; OUT P,8
2020   OUT P,X; OUT P,X/256; OUT P,Y; OUT P,Y/256
2030   OUT P,V; OUT P,V/256; OUT P,W; OUT P,W/256
2040 RETURN
